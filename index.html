<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rat Games</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#000000" />
  <style>
    body, html {
      margin: 0; padding: 0; height: 100vh; width: 100vw; overflow: hidden;
    }
    iframe {
      border: none;
      width: 100%;
      height: 100vh;
      display: block;
    }
  </style>
</head>
<body>

<iframe src="https://cty3ctyc42yjmxt3499ctn924u9xaje5y.vercel.app"
        scrolling="yes" allowfullscreen frameborder="0"></iframe>

<script>
  let deferredPrompt;

  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;

    // Immediately prompt the user to install
    deferredPrompt.prompt();

    deferredPrompt.userChoice.then((choiceResult) => {
      if (choiceResult.outcome !== 'accepted') {
        // If user declines, you can decide what to do here.
        // For example, you can keep showing the iframe or close the page.
        alert("You must install the app to continue."); 
        // Optionally, you could block further usage or reload:
        // location.reload();
      }
      deferredPrompt = null;
    });
  });

  // Register service worker for PWA offline support
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/service-worker.js')
      .catch(console.error);
  }
</script>

</body>
</html>
